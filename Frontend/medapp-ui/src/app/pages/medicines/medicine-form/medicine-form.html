<div class="medicine-form">
    <h2 *ngIf="!isEdit">Add Medicine</h2>
    <h2 *ngIf="isEdit">Edit Medicine</h2>

    <div *ngIf="loading">Loading...</div>

    <form *ngIf="!loading" (submit)="save(); $event.preventDefault();">
        <div class="mb-3">
            <label class="form-label">Name</label>
            <input class="form-control" name="name" [(ngModel)]="model.name" required />
        </div>
        <div class="mb-3">
            <label class="form-label">Company</label>
            <input class="form-control" name="company" [(ngModel)]="model.company" />
        </div>

        <div class="row">
            <div class="col mb-3">
                <label class="form-label">Price</label>
                <input type="number" step="0.01" class="form-control" name="price" [(ngModel)]="model.price" />
            </div>
            <div class="col mb-3">
                <label class="form-label">Stock</label>
                <input type="number" class="form-control" name="stock" [(ngModel)]="model.stock" />
            </div>
        </div>

        <div class="mb-3">
            <label class="form-label">Expiry Date</label>
            <input type="datetime-local" class="form-control" name="expiryDate" [(ngModel)]="model.expiryDate" />
        </div>

        <div *ngIf="isEdit" class="mb-3">
            <label class="form-label">Created On</label>
            <input class="form-control" [value]="model.createdOn ? (model.createdOn | date:'yyyy-MM-dd HH:mm') : ''"
                disabled />
        </div>

        <div class="actions">
            <button class="btn btn-primary me-2" type="submit">Save</button>
            <button class="btn btn-outline-secondary" type="button" (click)="cancel()">Cancel</button>
        </div>
    </form>
</div>